# 🚀 Railway 部署指南

## 📋 部署步驟

### 1. 準備工作
確保系統已完成所有修改：
- ✅ 員工登入通知只發送給老闆群組
- ✅ 管理員專用頁面 (`/admin`)
- ✅ 員工專用頁面 (`/employee`) 
- ✅ 權限路由分離機制
- ✅ 登入重定向邏輯修改

### 2. Railway 部署
1. 訪問 [Railway.app](https://railway.app)
2. 使用 GitHub 連接此專案
3. 設定環境變量：
   ```
   PORT=3007
   NODE_ENV=production
   JWT_SECRET=your-super-secret-jwt-key
   TELEGRAM_BOT_TOKEN=7659930552:AAF_jF1rAXFnjFO176-9X5fKfBwbrko8BNc
   TELEGRAM_BOSS_GROUP_ID=-1002658082392
   ```

### 3. 部署後測試
1. **管理員測試**：
   - 登入 `admin / admin123`
   - 應重定向到 `/admin` 頁面
   - 可看到所有管理功能（員工管理、系統設定等）

2. **員工測試**：
   - 登入 `employee / employee123`
   - 應重定向到 `/employee` 頁面
   - 只能看到員工相關功能（打卡、營收登記等）

### 4. 功能驗證
- [ ] 登入通知只發送給老闆群組
- [ ] 管理員看不到員工不該看的功能
- [ ] 員工看不到管理員專用功能
- [ ] 權限控制正常運作
- [ ] API 響應正確

## 🌐 預期部署 URL
部署成功後會獲得類似：`https://your-project.railway.app`

## 📱 Telegram 通知列表

### 🔐 認證相關（僅老闆群組）
- 員工登入通知

### 💰 營收相關（老闆+員工群組）
- 營收提交通知
- 收支明細通知

### 👥 員工管理（老闆群組）
- 新員工註冊通知
- 員工審核結果通知
- 員工生日通知

### 🗳️ 投票系統（相關群組）
- 升遷投票通知
- 投票結果通知

### 📦 庫存管理（老闆群組）
- 庫存異常通知
- 叫貨申請通知
- 叫貨頻率異常通知

### ⏰ 出勤管理（老闆群組）
- 打卡通知
- 遲到早退通知

### 🔧 系統維護（老闆群組）
- 維修申請通知
- 系統錯誤通知

## ✅ 部署檢查清單
- [ ] Railway 專案創建成功
- [ ] 環境變量配置完成
- [ ] 應用部署成功
- [ ] 健康檢查通過 (`/api/health`)
- [ ] 登入功能正常
- [ ] 權限分離正確
- [ ] Telegram 通知正常
- [ ] 所有 API 端點可用